{"ast":null,"code":"import _objectSpread from \"D:\\\\ReactStuff\\\\finalproject\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"D:\\\\ReactStuff\\\\finalproject\\\\src\\\\Compnonents\\\\home\\\\wishlist\\\\WishlistCard.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Axios from 'axios';\n\nconst appid = require(\"appid\");\n\nclass WishlistCard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      games: [],\n      gameInfo: {\n        name: \"\",\n        bestPrice: \"\",\n        seller: \"\",\n        page: \"\"\n      },\n      gameComp: [],\n      steamGame: [],\n      gogGame: [],\n      user: []\n    };\n  }\n\n  getData(gameCall) {\n    return new Promise((resolve, reject) => {\n      Axios.get(`${gameCall}`).then(data => {\n        resolve(data);\n        console.log(data); //this.setState({steamGame: data})\n      });\n    });\n  }\n\n  componentDidMount() {\n    console.log(this.state.gameComp);\n    const email = localStorage.getItem(\"loggedInUser\");\n    const params = {\n      email: email\n    }; // this.getData(`https://cors-anywhere.herokuapp.com/http://embed.gog.com/games/ajax/filtered?mediaType=game&search=Grim Dawn`);\n    // this.getData(`https://cors-anywhere.herokuapp.com/https://store.steampowered.com/api/appdetails/?appids=219990`);\n\n    console.log(email);\n    console.log({\n      params\n    });\n    Axios.get(\"http://localhost:8080/getID\", {\n      params\n    }).then(response => {\n      console.log(\"changing state\");\n      this.setState({\n        user: response.data\n      });\n      console.log(this.state.user);\n      console.log(this.state.user.id);\n      const userID = this.state.user.id;\n      console.log(userID);\n      const userIDObj = {\n        userID: userID\n      };\n      console.log({\n        userIDObj\n      });\n      Axios.get(`http://localhost:8080/userGames?userID=${userID}`).then(response => {\n        this.setState({\n          games: response.data\n        }); //this.getGames();\n\n        this.getApiID();\n      });\n    });\n  }\n\n  async getGames() {\n    for (let i = 0; i < this.state.games.length; i++) {\n      let dota = await appid(`${this.state.games[i].name}`);\n      console.log(dota); //await this.getData(`https://cors-anywhere.herokuapp.com/https://store.steampowered.com/api/appdetails/?appids=${dota.appid}`);\n      // this.setState({steamGame: await this.getData(`https://cors-anywhere.herokuapp.com/https://store.steampowered.com/api/appdetails/?appids=${dota.appid}`)})\n\n      console.log(this.state.steamGame);\n    }\n  }\n\n  async getApiID() {\n    console.log(this.state.games.length);\n\n    for (let i = 0; i < this.state.games.length; i++) {\n      console.log(this.state.games.length, \"inside of for statement\");\n      this.state.gameInfo[\"name\"] = this.state.games[i].name;\n      console.log(this.state.gameInfo);\n      let dota = await appid(`${this.state.games[i].name}`);\n      console.log(dota); //\n\n      this.setState({\n        steamGame: await this.getData(`https://cors-anywhere.herokuapp.com/https://store.steampowered.com/api/appdetails/?appids=${dota.appid}`)\n      });\n      this.setState({\n        gogGame: await this.getData(`https://cors-anywhere.herokuapp.com/http://embed.gog.com/games/ajax/filtered?mediaType=game&search=${this.state.games[i].name}`)\n      });\n      console.log(this.state.steamGame);\n\n      for (let j = 0; j < this.state.gogGame.data.products.length; j++) {\n        console.log(this.state.gogGame.data.products[j]);\n\n        if (this.state.gogGame.data.products[j].title == this.state.games[i].name) {\n          this.setState({\n            gogGame: this.state.gogGame.data.products[j]\n          });\n          console.log(this.state.gogGame);\n          break;\n        }\n      }\n\n      if (this.state.steamGame.data[dota.appid].data.price_overview.final / 100 <= this.state.gogGame.price.finalAmount) {\n        const tempState = _objectSpread({}, this.state.gameInfo);\n\n        tempState[\"bestPrice\"] = this.state.steamGame.data[dota.appid].data.price_overview.final / 100;\n        tempState[\"seller\"] = \"Steam\";\n        tempState[\"page\"] = `https://store.steampowered.com/app/${this.state.steamGame.data[dota.appid].data.steam_appid}`;\n        tempState[\"name\"] = this.state.steamGame.data[dota.appid].data.name;\n        this.setState({\n          gameInfo: tempState\n        });\n        console.log(this.state.gameInfo, \"End of+ if price check statement\");\n        this.state.gameComp.push(this.state.gameInfo);\n        console.log(\"added\");\n      } else {\n        const tempState = _objectSpread({}, this.state.gameInfo);\n\n        tempState[\"bestPrice\"] = this.state.gogGame.price.finalAmount;\n        tempState[\"seller\"] = \"Gog\";\n        tempState[\"page\"] = `https://www.gog.com${this.state.gogGame.url}`;\n        tempState[\"name\"] = this.state.gogGame.title;\n        this.setState({\n          gameInfo: tempState\n        });\n        console.log(this.state.gameInfo, \"End of else price check statement\");\n        this.state.gameComp.push(this.state.gameInfo);\n      }\n\n      if (this.state.gameComp.length <= 1) {\n        console.log(this.state.gameComp);\n      } //this.setState({gameComp: temp});\n      // Axios.get(`https://cors-anywhere.herokuapp.com/https://store.steampowered.com/api/appdetails/?appids=${dota.appid}`)\n      // .then( response => {\n      //     const steamGame = response.data[dota.appid].data\n      //     // steamGame.price_overview.final/100\n      //     this.setState({\n      //         steamGame: steamGame\n      //     })\n      //     Axios.get(`https://cors-anywhere.herokuapp.com/http://embed.gog.com/games/ajax/filtered?mediaType=game&search=${this.state.games[i].name}`)\n      //     .then(response =>{\n      //         for(let j = 0; j < response.data.products.length; j++){\n      //             if(response.data.products[j].title == this.state.games[i].name){\n      //                 const gogGame = response.data.products[j]\n      //                 //.price.finalAmount\n      //                 this.setState({\n      //                     gogGame: gogGame\n      //                 })\n      //             }\n      //         }\n      //         console.log(this.state.gogGame);\n      //         console.log(this.state.steamGame);\n      //         console.log(this.state.steamGame.price_overview.final/100);\n      //         if(this.state.steamGame.price_overview.final/100 <= this.state.gogGame.price.finalAmount){\n      //             const tempState = {...this.state.gameInfo}\n      //             tempState[\"bestPrice\"] = this.state.steamGame.price_overview.final/100;\n      //             tempState[\"seller\"] = \"Steam\";\n      //             tempState[\"page\"] = `https://store.steampowered.com/app/${this.state.steamGame.steam_appid}`\n      //             tempState[\"name\"] = this.state.steamGame.name;\n      //             this.setState({\n      //                 gameInfo: tempState\n      //             })\n      //             console.log(this.state.gameInfo, \"End of if price check statement\");\n      //         }\n      //         else{\n      //             const tempState = {...this.state.gameInfo}\n      //             tempState[\"bestPrice\"] = this.state.gogGame.price.finalAmount;\n      //             tempState[\"seller\"] = \"Gog\";\n      //             tempState[\"page\"] = `https://www.gog.com${this.state.gogGame.url}`\n      //             tempState[\"name\"] = this.state.gogGame.title;\n      //             this.setState({\n      //                 gameInfo: tempState\n      //             })\n      //             console.log(this.state.gameInfo, \"End of else price check statement\");\n      //         }\n      //         let temp = this.state.gameComp\n      //         temp.push(this.state.gameInfo)\n      //         this.setState({gameComp: temp})\n      //     })\n      // })\n\n    }\n  }\n\n  render() {\n    return this.state.gameComp.map((gameComp, index) => {\n      console.log(\"in map :>> \", gameComp.name);\n      return React.createElement(\"div\", {\n        className: \"Card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, gameComp.name), React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, gameComp.seller), gameComp.bestPrice, React.createElement(\"a\", {\n        href: gameComp.page,\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, gameComp.name));\n    });\n  }\n\n}\n\nexport default WishlistCard;","map":{"version":3,"sources":["D:/ReactStuff/finalproject/src/Compnonents/home/wishlist/WishlistCard.js"],"names":["React","Component","Link","Axios","appid","require","WishlistCard","state","games","gameInfo","name","bestPrice","seller","page","gameComp","steamGame","gogGame","user","getData","gameCall","Promise","resolve","reject","get","then","data","console","log","componentDidMount","email","localStorage","getItem","params","response","setState","id","userID","userIDObj","getApiID","getGames","i","length","dota","j","products","title","price_overview","final","price","finalAmount","tempState","steam_appid","push","url","render","map","index"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMC,YAAN,SAA2BL,SAA3B,CAAqC;AAAA;AAAA;AAAA,SACjCM,KADiC,GACzB;AACJC,MAAAA,KAAK,EAAE,EADH;AAEJC,MAAAA,QAAQ,EAAE;AACNC,QAAAA,IAAI,EAAE,EADA;AAENC,QAAAA,SAAS,EAAE,EAFL;AAGNC,QAAAA,MAAM,EAAE,EAHF;AAINC,QAAAA,IAAI,EAAE;AAJA,OAFN;AAQJC,MAAAA,QAAQ,EAAC,EARL;AASJC,MAAAA,SAAS,EAAE,EATP;AAUJC,MAAAA,OAAO,EAAE,EAVL;AAWJC,MAAAA,IAAI,EAAE;AAXF,KADyB;AAAA;;AAejCC,EAAAA,OAAO,CAACC,QAAD,EAAU;AACb,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpCnB,MAAAA,KAAK,CAACoB,GAAN,CAAW,GAAEJ,QAAS,EAAtB,EACCK,IADD,CACOC,IAAD,IAAU;AACZJ,QAAAA,OAAO,CAACI,IAAD,CAAP;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAFY,CAGZ;AACH,OALD;AAMH,KAPM,CAAP;AAQH;;AACDG,EAAAA,iBAAiB,GAAE;AACfF,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWO,QAAvB;AACA,UAAMe,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAd;AACA,UAAMC,MAAM,GAAG;AACVH,MAAAA,KAAK,EAAEA;AADG,KAAf,CAHe,CAMf;AACA;;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY;AAACK,MAAAA;AAAD,KAAZ;AACA7B,IAAAA,KAAK,CAACoB,GAAN,CAAU,6BAAV,EAAyC;AAACS,MAAAA;AAAD,KAAzC,EACCR,IADD,CACOS,QAAQ,IAAG;AACdP,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,WAAKO,QAAL,CAAc;AACVjB,QAAAA,IAAI,EAAEgB,QAAQ,CAACR;AADL,OAAd;AAGAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWU,IAAvB;AACAS,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWU,IAAX,CAAgBkB,EAA5B;AACA,YAAMC,MAAM,GAAG,KAAK7B,KAAL,CAAWU,IAAX,CAAgBkB,EAA/B;AACAT,MAAAA,OAAO,CAACC,GAAR,CAAYS,MAAZ;AACA,YAAMC,SAAS,GAAG;AACdD,QAAAA,MAAM,EAAEA;AADM,OAAlB;AAIAV,MAAAA,OAAO,CAACC,GAAR,CAAY;AAACU,QAAAA;AAAD,OAAZ;AACAlC,MAAAA,KAAK,CAACoB,GAAN,CAAW,0CAAyCa,MAAO,EAA3D,EACCZ,IADD,CACMS,QAAQ,IAAI;AACd,aAAKC,QAAL,CAAc;AACV1B,UAAAA,KAAK,EAAEyB,QAAQ,CAACR;AADN,SAAd,EADc,CAIlB;;AACA,aAAKa,QAAL;AACC,OAPD;AASH,KAxBD;AA0BH;;AACD,QAAMC,QAAN,GAAgB;AACZ,SAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAKjC,KAAL,CAAWC,KAAX,CAAiBiC,MAApC,EAA4CD,CAAC,EAA7C,EAAgD;AAC5C,UAAIE,IAAI,GAAG,MAAMtC,KAAK,CAAE,GAAE,KAAKG,KAAL,CAAWC,KAAX,CAAiBgC,CAAjB,EAAoB9B,IAAK,EAA7B,CAAtB;AACAgB,MAAAA,OAAO,CAACC,GAAR,CAAYe,IAAZ,EAF4C,CAG5C;AACA;;AAEAhB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWQ,SAAvB;AACH;AACJ;;AACD,QAAMuB,QAAN,GAAgB;AACZZ,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWC,KAAX,CAAiBiC,MAA7B;;AACA,SAAI,IAAID,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAKjC,KAAL,CAAWC,KAAX,CAAiBiC,MAApC,EAA4CD,CAAC,EAA7C,EAAgD;AAC5Cd,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWC,KAAX,CAAiBiC,MAA7B,EAAqC,yBAArC;AACA,WAAKlC,KAAL,CAAWE,QAAX,CAAoB,MAApB,IAA8B,KAAKF,KAAL,CAAWC,KAAX,CAAiBgC,CAAjB,EAAoB9B,IAAlD;AACAgB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWE,QAAvB;AACA,UAAIiC,IAAI,GAAG,MAAMtC,KAAK,CAAE,GAAE,KAAKG,KAAL,CAAWC,KAAX,CAAiBgC,CAAjB,EAAoB9B,IAAK,EAA7B,CAAtB;AACAgB,MAAAA,OAAO,CAACC,GAAR,CAAYe,IAAZ,EAL4C,CAM5C;;AACA,WAAKR,QAAL,CAAc;AAACnB,QAAAA,SAAS,EAAE,MAAM,KAAKG,OAAL,CAAc,6FAA4FwB,IAAI,CAACtC,KAAM,EAArH;AAAlB,OAAd;AACA,WAAK8B,QAAL,CAAc;AAAClB,QAAAA,OAAO,EAAE,MAAM,KAAKE,OAAL,CAAc,sGAAqG,KAAKX,KAAL,CAAWC,KAAX,CAAiBgC,CAAjB,EAAoB9B,IAAK,EAA5I;AAAhB,OAAd;AACAgB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWQ,SAAvB;;AACA,WAAI,IAAI4B,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAKpC,KAAL,CAAWS,OAAX,CAAmBS,IAAnB,CAAwBmB,QAAxB,CAAiCH,MAApD,EAA4DE,CAAC,EAA7D,EAAgE;AAC5DjB,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWS,OAAX,CAAmBS,IAAnB,CAAwBmB,QAAxB,CAAiCD,CAAjC,CAAZ;;AACA,YAAG,KAAKpC,KAAL,CAAWS,OAAX,CAAmBS,IAAnB,CAAwBmB,QAAxB,CAAiCD,CAAjC,EAAoCE,KAApC,IAA6C,KAAKtC,KAAL,CAAWC,KAAX,CAAiBgC,CAAjB,EAAoB9B,IAApE,EAAyE;AACrE,eAAKwB,QAAL,CAAc;AAAClB,YAAAA,OAAO,EAAE,KAAKT,KAAL,CAAWS,OAAX,CAAmBS,IAAnB,CAAwBmB,QAAxB,CAAiCD,CAAjC;AAAV,WAAd;AACAjB,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWS,OAAvB;AACA;AAEH;AACJ;;AAED,UAAG,KAAKT,KAAL,CAAWQ,SAAX,CAAqBU,IAArB,CAA0BiB,IAAI,CAACtC,KAA/B,EAAsCqB,IAAtC,CAA2CqB,cAA3C,CAA0DC,KAA1D,GAAgE,GAAhE,IAAuE,KAAKxC,KAAL,CAAWS,OAAX,CAAmBgC,KAAnB,CAAyBC,WAAnG,EAA+G;AAC/G,cAAMC,SAAS,qBAAO,KAAK3C,KAAL,CAAWE,QAAlB,CAAf;;AACAyC,QAAAA,SAAS,CAAC,WAAD,CAAT,GAAyB,KAAK3C,KAAL,CAAWQ,SAAX,CAAqBU,IAArB,CAA0BiB,IAAI,CAACtC,KAA/B,EAAsCqB,IAAtC,CAA2CqB,cAA3C,CAA0DC,KAA1D,GAAgE,GAAzF;AACAG,QAAAA,SAAS,CAAC,QAAD,CAAT,GAAsB,OAAtB;AACAA,QAAAA,SAAS,CAAC,MAAD,CAAT,GAAqB,sCAAqC,KAAK3C,KAAL,CAAWQ,SAAX,CAAqBU,IAArB,CAA0BiB,IAAI,CAACtC,KAA/B,EAAsCqB,IAAtC,CAA2C0B,WAAY,EAAjH;AACAD,QAAAA,SAAS,CAAC,MAAD,CAAT,GAAoB,KAAK3C,KAAL,CAAWQ,SAAX,CAAqBU,IAArB,CAA0BiB,IAAI,CAACtC,KAA/B,EAAsCqB,IAAtC,CAA2Cf,IAA/D;AACA,aAAKwB,QAAL,CAAc;AACVzB,UAAAA,QAAQ,EAAEyC;AADA,SAAd;AAGAxB,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWE,QAAvB,EAAiC,kCAAjC;AACA,aAAKF,KAAL,CAAWO,QAAX,CAAoBsC,IAApB,CAAyB,KAAK7C,KAAL,CAAWE,QAApC;AACAiB,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACC,OAZD,MAaI;AACA,cAAMuB,SAAS,qBAAO,KAAK3C,KAAL,CAAWE,QAAlB,CAAf;;AACAyC,QAAAA,SAAS,CAAC,WAAD,CAAT,GAAyB,KAAK3C,KAAL,CAAWS,OAAX,CAAmBgC,KAAnB,CAAyBC,WAAlD;AACAC,QAAAA,SAAS,CAAC,QAAD,CAAT,GAAsB,KAAtB;AACAA,QAAAA,SAAS,CAAC,MAAD,CAAT,GAAqB,sBAAqB,KAAK3C,KAAL,CAAWS,OAAX,CAAmBqC,GAAI,EAAjE;AACAH,QAAAA,SAAS,CAAC,MAAD,CAAT,GAAoB,KAAK3C,KAAL,CAAWS,OAAX,CAAmB6B,KAAvC;AACA,aAAKX,QAAL,CAAc;AACVzB,UAAAA,QAAQ,EAAEyC;AADA,SAAd;AAGAxB,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWE,QAAvB,EAAiC,mCAAjC;AACA,aAAKF,KAAL,CAAWO,QAAX,CAAoBsC,IAApB,CAAyB,KAAK7C,KAAL,CAAWE,QAApC;AACH;;AAED,UAAG,KAAKF,KAAL,CAAWO,QAAX,CAAoB2B,MAApB,IAA8B,CAAjC,EAAmC;AAC/Bf,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWO,QAAvB;AACH,OAhD2C,CAiD5C;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEH;AAEJ;;AACDwC,EAAAA,MAAM,GAAG;AACL,WAEI,KAAK/C,KAAL,CAAWO,QAAX,CAAoByC,GAApB,CAAyB,CAACzC,QAAD,EAAW0C,KAAX,KAAqB;AAC1C9B,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA0Bb,QAAQ,CAACJ,IAAnC;AACA,aACI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKI,QAAQ,CAACJ,IAAd,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKI,QAAQ,CAACF,MAAd,CAFJ,EAGKE,QAAQ,CAACH,SAHd,EAII;AAAG,QAAA,IAAI,EAAEG,QAAQ,CAACD,IAAlB;AAAwB,QAAA,MAAM,EAAC,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyCC,QAAQ,CAACJ,IAAlD,CAJJ,CADJ;AAQH,KAVD,CAFJ;AAgBH;;AAtMgC;;AAyMrC,eAAeJ,YAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Axios from 'axios';\r\n\r\nconst appid = require(\"appid\");\r\nclass WishlistCard extends Component {\r\n    state = {\r\n        games: [],\r\n        gameInfo: {\r\n            name: \"\",\r\n            bestPrice: \"\",\r\n            seller: \"\",\r\n            page: \"\"\r\n        },\r\n        gameComp:[],\r\n        steamGame: [],\r\n        gogGame: [],\r\n        user: []\r\n\r\n    }\r\n    getData(gameCall){\r\n        return new Promise((resolve, reject) => {\r\n            Axios.get(`${gameCall}`)\r\n            .then((data) => {\r\n                resolve(data)\r\n                console.log(data);\r\n                //this.setState({steamGame: data})\r\n            })\r\n        })\r\n    }\r\n    componentDidMount(){\r\n        console.log(this.state.gameComp);\r\n        const email = localStorage.getItem(\"loggedInUser\");\r\n        const params = {\r\n             email: email\r\n        }\r\n        // this.getData(`https://cors-anywhere.herokuapp.com/http://embed.gog.com/games/ajax/filtered?mediaType=game&search=Grim Dawn`);\r\n        // this.getData(`https://cors-anywhere.herokuapp.com/https://store.steampowered.com/api/appdetails/?appids=219990`);\r\n        console.log(email);\r\n        console.log({params});\r\n        Axios.get(\"http://localhost:8080/getID\", {params})\r\n        .then( response =>{\r\n            console.log(\"changing state\");\r\n            this.setState({\r\n                user: response.data\r\n            })\r\n            console.log(this.state.user);\r\n            console.log(this.state.user.id);\r\n            const userID = this.state.user.id;\r\n            console.log(userID);\r\n            const userIDObj = {\r\n                userID: userID\r\n            }\r\n            \r\n            console.log({userIDObj});\r\n            Axios.get(`http://localhost:8080/userGames?userID=${userID}`)\r\n            .then(response => {\r\n                this.setState({\r\n                    games: response.data\r\n            })\r\n            //this.getGames();\r\n            this.getApiID();\r\n            })\r\n            \r\n        })\r\n        \r\n    }\r\n    async getGames(){\r\n        for(let i = 0; i < this.state.games.length; i++){\r\n            let dota = await appid(`${this.state.games[i].name}`);\r\n            console.log(dota);\r\n            //await this.getData(`https://cors-anywhere.herokuapp.com/https://store.steampowered.com/api/appdetails/?appids=${dota.appid}`);\r\n            // this.setState({steamGame: await this.getData(`https://cors-anywhere.herokuapp.com/https://store.steampowered.com/api/appdetails/?appids=${dota.appid}`)})\r\n            \r\n            console.log(this.state.steamGame);\r\n        }\r\n    }\r\n    async getApiID(){\r\n        console.log(this.state.games.length);\r\n        for(let i = 0; i < this.state.games.length; i++){\r\n            console.log(this.state.games.length, \"inside of for statement\");\r\n            this.state.gameInfo[\"name\"] = this.state.games[i].name;\r\n            console.log(this.state.gameInfo);\r\n            let dota = await appid(`${this.state.games[i].name}`);\r\n            console.log(dota);\r\n            //\r\n            this.setState({steamGame: await this.getData(`https://cors-anywhere.herokuapp.com/https://store.steampowered.com/api/appdetails/?appids=${dota.appid}`)})\r\n            this.setState({gogGame: await this.getData(`https://cors-anywhere.herokuapp.com/http://embed.gog.com/games/ajax/filtered?mediaType=game&search=${this.state.games[i].name}`)})\r\n            console.log(this.state.steamGame);\r\n            for(let j = 0; j < this.state.gogGame.data.products.length; j++){\r\n                console.log(this.state.gogGame.data.products[j]);\r\n                if(this.state.gogGame.data.products[j].title == this.state.games[i].name){\r\n                    this.setState({gogGame: this.state.gogGame.data.products[j]})\r\n                    console.log(this.state.gogGame);\r\n                    break;\r\n                    \r\n                }\r\n            }\r\n\r\n            if(this.state.steamGame.data[dota.appid].data.price_overview.final/100 <= this.state.gogGame.price.finalAmount){\r\n            const tempState = {...this.state.gameInfo}\r\n            tempState[\"bestPrice\"] = this.state.steamGame.data[dota.appid].data.price_overview.final/100;\r\n            tempState[\"seller\"] = \"Steam\";\r\n            tempState[\"page\"] = `https://store.steampowered.com/app/${this.state.steamGame.data[dota.appid].data.steam_appid}`\r\n            tempState[\"name\"] = this.state.steamGame.data[dota.appid].data.name;\r\n            this.setState({\r\n                gameInfo: tempState\r\n            })\r\n            console.log(this.state.gameInfo, \"End of+ if price check statement\");\r\n            this.state.gameComp.push(this.state.gameInfo);\r\n            console.log(\"added\");\r\n            }\r\n            else{\r\n                const tempState = {...this.state.gameInfo}\r\n                tempState[\"bestPrice\"] = this.state.gogGame.price.finalAmount;\r\n                tempState[\"seller\"] = \"Gog\";\r\n                tempState[\"page\"] = `https://www.gog.com${this.state.gogGame.url}`\r\n                tempState[\"name\"] = this.state.gogGame.title;\r\n                this.setState({\r\n                    gameInfo: tempState\r\n                })\r\n                console.log(this.state.gameInfo, \"End of else price check statement\");\r\n                this.state.gameComp.push(this.state.gameInfo);\r\n            }\r\n            \r\n            if(this.state.gameComp.length <= 1){\r\n                console.log(this.state.gameComp);\r\n            }\r\n            //this.setState({gameComp: temp});\r\n\r\n\r\n\r\n            // Axios.get(`https://cors-anywhere.herokuapp.com/https://store.steampowered.com/api/appdetails/?appids=${dota.appid}`)\r\n            // .then( response => {\r\n            //     const steamGame = response.data[dota.appid].data\r\n            //     // steamGame.price_overview.final/100\r\n            //     this.setState({\r\n            //         steamGame: steamGame\r\n            //     })\r\n            //     Axios.get(`https://cors-anywhere.herokuapp.com/http://embed.gog.com/games/ajax/filtered?mediaType=game&search=${this.state.games[i].name}`)\r\n            //     .then(response =>{\r\n            //         for(let j = 0; j < response.data.products.length; j++){\r\n            //             if(response.data.products[j].title == this.state.games[i].name){\r\n            //                 const gogGame = response.data.products[j]\r\n            //                 //.price.finalAmount\r\n                            \r\n            //                 this.setState({\r\n            //                     gogGame: gogGame\r\n            //                 })\r\n            //             }\r\n            //         }\r\n            //         console.log(this.state.gogGame);\r\n            //         console.log(this.state.steamGame);\r\n            //         console.log(this.state.steamGame.price_overview.final/100);\r\n            //         if(this.state.steamGame.price_overview.final/100 <= this.state.gogGame.price.finalAmount){\r\n            //             const tempState = {...this.state.gameInfo}\r\n            //             tempState[\"bestPrice\"] = this.state.steamGame.price_overview.final/100;\r\n            //             tempState[\"seller\"] = \"Steam\";\r\n            //             tempState[\"page\"] = `https://store.steampowered.com/app/${this.state.steamGame.steam_appid}`\r\n            //             tempState[\"name\"] = this.state.steamGame.name;\r\n            //             this.setState({\r\n            //                 gameInfo: tempState\r\n            //             })\r\n            //             console.log(this.state.gameInfo, \"End of if price check statement\");\r\n            //         }\r\n            //         else{\r\n            //             const tempState = {...this.state.gameInfo}\r\n            //             tempState[\"bestPrice\"] = this.state.gogGame.price.finalAmount;\r\n            //             tempState[\"seller\"] = \"Gog\";\r\n            //             tempState[\"page\"] = `https://www.gog.com${this.state.gogGame.url}`\r\n            //             tempState[\"name\"] = this.state.gogGame.title;\r\n            //             this.setState({\r\n            //                 gameInfo: tempState\r\n            //             })\r\n            //             console.log(this.state.gameInfo, \"End of else price check statement\");\r\n            //         }\r\n            //         let temp = this.state.gameComp\r\n            //         temp.push(this.state.gameInfo)\r\n            //         this.setState({gameComp: temp})\r\n            //     })\r\n                \r\n            // })\r\n            \r\n        }\r\n        \r\n    }\r\n    render() {\r\n        return (\r\n            \r\n            this.state.gameComp.map ((gameComp, index) => {\r\n                console.log(\"in map :>> \",gameComp.name);\r\n                return(\r\n                    <div className=\"Card\">\r\n                        <h3>{gameComp.name}</h3>\r\n                        <h5>{gameComp.seller}</h5>\r\n                        {gameComp.bestPrice}\r\n                        <a href={gameComp.page} target=\"_blank\">{gameComp.name}</a>\r\n                    </div>\r\n                )\r\n            })\r\n\r\n            \r\n        );\r\n    }\r\n}\r\n\r\nexport default WishlistCard;"]},"metadata":{},"sourceType":"module"}